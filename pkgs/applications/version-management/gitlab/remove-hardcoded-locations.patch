diff -ur -x '*~' gitlab-ce-v8.2.3-src/config/environments/production.rb gitlab-ce-v8.2.3-src-patched/config/environments/production.rb
--- gitlab-ce-v8.2.3-src/config/environments/production.rb	2015-12-21 15:39:39.989950374 +0000
+++ gitlab-ce-v8.2.3-src-patched/config/environments/production.rb	2015-12-21 14:50:51.209545592 +0000
@@ -66,11 +66,11 @@
   config.active_support.deprecation = :notify
 
   config.action_mailer.delivery_method = :sendmail
-  # Defaults to:
-  # # config.action_mailer.sendmail_settings = {
-  # #   location: '/usr/sbin/sendmail',
-  # #   arguments: '-i -t'
-  # # }
+
+  config.action_mailer.sendmail_settings = {
+    location: '/var/setuid-wrappers/sendmail',
+    arguments: '-i -t'
+  }
   config.action_mailer.perform_deliveries = true
   config.action_mailer.raise_delivery_errors = true
 
diff -ur -x '*~' gitlab-ce-v8.2.3-src/config/gitlab.yml.example gitlab-ce-v8.2.3-src-patched/config/gitlab.yml.example
--- gitlab-ce-v8.2.3-src/config/gitlab.yml.example	2015-12-21 15:39:39.988950374 +0000
+++ gitlab-ce-v8.2.3-src-patched/config/gitlab.yml.example	2015-12-21 14:57:38.697535355 +0000
@@ -29,8 +29,8 @@
   ## GitLab settings
   gitlab:
     ## Web server settings (note: host is the FQDN, do not include http://)
-    host: localhost
-    port: 80 # Set to 443 if using HTTPS, see installation.md#using-https for additional HTTPS configuration details
+    host: <%= ENV['GITLAB_HOST'] || 'localhost' %>
+    port: <%= ENV['GITLAB_PORT'] || 80 %> # Set to 443 if using HTTPS, see installation.md#using-https for additional HTTPS configuration details
     https: false # Set to true if using HTTPS, see installation.md#using-https for additional HTTPS configuration details
 
     # Uncommment this line below if your ssh host is different from HTTP/HTTPS one
@@ -43,7 +43,7 @@
     # relative_url_root: /gitlab
 
     # Uncomment and customize if you can't use the default user to run GitLab (default: 'git')
-    # user: git
+    user: gitlab
 
     ## Date & Time settings
     # Uncomment and customize if you want to change the default time zone of GitLab application.
@@ -54,7 +54,7 @@
     # Uncomment and set to false if you need to disable email sending from GitLab (default: true)
     # email_enabled: true
     # Email address used in the "From" field in mails sent by GitLab
-    email_from: example@example.com
+    email_from: <%= ENV['GITLAB_EMAIL_FROM'] %>
     email_display_name: GitLab
     email_reply_to: noreply@example.com
 
@@ -339,11 +339,11 @@
   # least. This setting is fed to 'rm -rf' in
   # db/migrate/20151023144219_remove_satellites.rb
   satellites:
-    path: /home/git/gitlab-satellites/
+    path: <%= ENV['GITLAB_SATELLITES_PATH'] %>
 
   ## Backup settings
   backup:
-    path: "tmp/backups"   # Relative paths are relative to Rails.root (default: tmp/backups/)
+    path: <%= ENV['GITLAB_BACKUP_PATH'] %>
     # archive_permissions: 0640 # Permissions for the resulting backup.tar file (default: 0600)
     # keep_time: 604800   # default: 0 (forever) (in seconds)
     # pg_schema: public     # default: nil, it means that all schemas will be backed up
@@ -364,15 +364,15 @@
 
   ## GitLab Shell settings
   gitlab_shell:
-    path: /home/git/gitlab-shell/
+    path: <%= ENV['GITLAB_SHELL_PATH'] %>
 
     # REPOS_PATH MUST NOT BE A SYMLINK!!!
-    repos_path: /home/git/repositories/
-    hooks_path: /home/git/gitlab-shell/hooks/
+    repos_path: <%= ENV['GITLAB_REPOSITORIES_PATH'] %>
+    hooks_path: <%= ENV['GITLAB_SHELL_HOOKS_PATH'] %>
 
     # File that contains the secret key for verifying access for gitlab-shell.
     # Default is '.gitlab_shell_secret' relative to Rails.root (i.e. root of the GitLab app).
-    # secret_file: /home/git/gitlab/.gitlab_shell_secret
+    secret_file: <%= ENV['GITLAB_SHELL_SECRET_PATH'] %>
 
     # Git over HTTP
     upload_pack: true
@@ -385,7 +385,7 @@
   # CAUTION!
   # Use the default values unless you really know what you are doing
   git:
-    bin_path: /usr/bin/git
+    bin_path: git
     # The next value is the maximum memory size grit can use
     # Given in number of bytes per git object (e.g. a commit)
     # This value can be increased if you have very large commits
@@ -432,7 +432,7 @@
   lfs:
     enabled: false
   gitlab:
-    host: localhost
+    host: <%= ENV['GITLAB_HOST'] %>
     port: 80
 
     # When you run tests we clone and setup gitlab-shell
diff -ur -x '*~' gitlab-ce-v8.2.3-src/lib/gitlab/app_logger.rb gitlab-ce-v8.2.3-src-patched/lib/gitlab/app_logger.rb
--- gitlab-ce-v8.2.3-src/lib/gitlab/app_logger.rb	2015-12-21 15:39:40.129950337 +0000
+++ gitlab-ce-v8.2.3-src-patched/lib/gitlab/app_logger.rb	2015-12-21 14:58:41.804533887 +0000
@@ -1,7 +1,7 @@
 module Gitlab
   class AppLogger < Gitlab::Logger
     def self.file_name_noext
-      'application'
+      ENV["GITLAB_APPLICATION_LOG_PATH"]
     end
 
     def format_message(severity, timestamp, progname, msg)
